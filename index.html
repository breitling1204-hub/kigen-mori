<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>期限の森 - 賞味期限を木に変える</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap');
        body { font-family: 'Noto Sans JP', sans-serif; }
        .bg-soft { background: linear-gradient(135deg, #f0fdf4 0%, #e1f4e9 100%); }
        .floating { animation: float 3s infinite ease-in-out; }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body class="bg-soft min-h-screen text-slate-800">

    <div id="app" class="max-w-md mx-auto flex flex-col p-6 min-h-screen">
        <!-- ヘッダー -->
        <div class="flex items-center justify-between mb-8">
            <div class="flex items-center gap-3">
                <div class="bg-emerald-600 p-2.5 rounded-2xl text-white shadow-lg">
                    <i class="fas fa-tree text-xl"></i>
                </div>
                <h1 class="font-black text-xl tracking-tighter text-emerald-900">期限の森</h1>
            </div>
            <!-- あなたが作成したStripeのリンクをセットしました -->
            <a href="https://buy.stripe.com/test_dRm3cxeri0dX8Hv1jb87K00" class="text-[10px] bg-amber-400 text-amber-900 px-3 py-1.5 rounded-full font-black shadow-sm">
                PREMIUM
            </a>
        </div>

        <!-- 入力フォーム -->
        <div class="bg-white/70 backdrop-blur-md p-6 rounded-[2rem] shadow-sm border border-white/60 mb-8">
            <h2 class="text-sm font-bold text-emerald-800 mb-4 text-center">新しい「期限」を登録</h2>
            <div class="space-y-3">
                <input id="item-name" type="text" placeholder="例：たまご、牛乳" class="w-full px-4 py-3 rounded-xl border-none ring-1 ring-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none transition-all text-sm">
                <input id="item-date" type="date" class="w-full px-4 py-3 rounded-xl border-none ring-1 ring-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none transition-all text-sm">
                <button onclick="addItem()" class="w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-all active:scale-95 shadow-lg shadow-emerald-100">
                    森に木を植える
                </button>
            </div>
        </div>

        <!-- リスト -->
        <div class="flex-1">
            <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 ml-2">あなたの森</h3>
            <div id="forest-list" class="space-y-4">
                <!-- ここに登録した食材（木）が表示されます -->
            </div>
        </div>
    </div>

    <script>
        let items = [];

        function addItem() {
            const name = document.getElementById('item-name');
            const date = document.getElementById('item-date');
            if (!name.value || !date.value) return;

            items.push({ id: Date.now(), name: name.value, date: new Date(date.value) });
            name.value = '';
            date.value = '';
            render();
        }

        function render() {
            const list = document.getElementById('forest-list');
            if (items.length === 0) {
                list.innerHTML = `<div class="text-center py-10 text-slate-300 text-sm"><i class="fas fa-seedling text-4xl mb-2"></i><p>木がありません</p></div>`;
                return;
            }
            list.innerHTML = items.map(item => {
                const diff = Math.ceil((item.date - new Date()) / (1000 * 60 * 60 * 24));
                const color = diff <= 0 ? "text-slate-400" : (diff <= 3 ? "text-amber-500" : "text-emerald-600");
                return `
                    <div class="bg-white rounded-[1.5rem] p-4 shadow-sm flex items-center gap-4">
                        <div class="w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center">
                            <i class="fas fa-tree ${color} text-2xl floating"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold text-sm text-slate-800">${item.name}</h4>
                            <p class="text-[10px] ${color} font-bold tracking-tighter">${diff <= 0 ? '期限切れ' : 'あと ' + diff + ' 日'}</p>
                        </div>
                        <button onclick="items=items.filter(i=>i.id!=${item.id});render();" class="text-slate-200 hover:text-red-400 p-2"><i class="fas fa-trash-can"></i></button>
                    </div>
                `;
            }).join('');
        }
        render();
    </script>
</body>
</html>

