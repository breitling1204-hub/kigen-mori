<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœŸé™ã®æ£® | AIé£Ÿæç®¡ç†</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; background-color: #f8fafc; }
        .card { background: white; border-radius: 2rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const App = () => {
            const [forest, setForest] = useState([]);
            const [isPremium, setIsPremium] = useState(false);
            const [showLegal, setShowLegal] = useState(false);
            const [name, setName] = useState('');
            const [date, setDate] = useState('');
            const [quantity, setQuantity] = useState('');

            useEffect(() => {
                const saved = localStorage.getItem('kigen_forest_v6');
                if (saved) setForest(JSON.parse(saved));
                if (localStorage.getItem('premium_status') === 'true') setIsPremium(true);
            }, []);

            const addTree = () => {
                if (!name || !date) return;
                const newTree = { id: Date.now(), name, date, quantity: quantity || '1' };
                const newForest = [newTree, ...forest];
                setForest(newForest);
                localStorage.setItem('kigen_forest_v6', JSON.stringify(newForest));
                setName(''); setDate(''); setQuantity('');
            };

            return (
                <div className="max-w-md mx-auto p-6 min-h-screen">
                    <header className="flex justify-between items-center py-8">
                        <div className="flex items-center gap-3">
                            <div className="bg-emerald-600 p-3 rounded-2xl text-white">ğŸŒ³</div>
                            <h1 className="font-black text-2xl tracking-tighter text-slate-800">æœŸé™ã®æ£®</h1>
                        </div>
                        {!isPremium && <span className="text-[10px] font-bold text-slate-400">FREE PLAN</span>}
                    </header>

                    <div className="card p-8 mb-8 border border-slate-100">
                        <div className="space-y-4">
                            <input value={name} onChange={e => setName(e.target.value)} placeholder="é£Ÿæå" className="w-full p-4 bg-slate-50 rounded-xl outline-none font-bold text-sm" />
                            <div className="flex gap-2">
                                <input value={quantity} onChange={e => setQuantity(e.target.value)} placeholder="æ•°é‡" className="w-1/2 p-4 bg-slate-50 rounded-xl outline-none font-bold text-sm" />
                                <input value={date} onChange={e => setDate(e.target.value)} type="date" className="w-1/2 p-4 bg-slate-50 rounded-xl outline-none font-bold text-sm" />
                            </div>
                            <button onClick={addTree} className="w-full py-4 bg-emerald-600 text-white rounded-xl font-black text-xs tracking-widest active:scale-95 transition-all">æ£®ã«æ¤ãˆã‚‹</button>
                        </div>
                    </div>

                    <div className="space-y-3">
                        {forest.map(tree => (
                            <div key={tree.id} className="bg-white p-5 rounded-3xl flex items-center gap-4 shadow-sm border border-white">
                                <div className="w-12 h-12 bg-emerald-50 rounded-2xl flex items-center justify-center text-emerald-600 text-xl">ğŸƒ</div>
                                <div className="flex-1">
                                    <p className="font-black text-sm text-slate-800">{tree.name} <span className="text-slate-400 text-xs">{tree.quantity}</span></p>
                                    <p className="text-[10px] font-black text-slate-300 uppercase mt-1">æœŸé™: {tree.date}</p>
                                </div>
                            </div>
                        ))}
                    </div>

                    <footer className="mt-24 text-center pb-12">
                        <button onClick={() => setShowLegal(true)} className="text-[10px] font-bold text-slate-300 underline underline-offset-4">ç‰¹å®šå•†å–å¼•æ³•ã«åŸºã¥ãè¡¨è¨˜</button>
                    </footer>

                    {showLegal && (
                        <div className="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-6">
                            <div className="bg-white w-full max-w-sm rounded-[3rem] p-10 relative shadow-2xl">
                                <button onClick={() => setShowLegal(false)} className="absolute top-8 right-8 text-slate-300 text-xl">âœ•</button>
                                <h2 className="font-black text-xl mb-8 text-slate-900">æ³•çš„è¡¨è¨˜</h2>
                                <div className="space-y-6 text-[11px] text-slate-500 leading-relaxed">
                                    <section><p className="font-black text-slate-900 uppercase text-[9px] mb-1">è²©å£²æ¥­è€…</p><p>ï¼ˆã‚ãªãŸã®ã”æœ¬åï¼‰</p></section>
                                    <section><p className="font-black text-slate-900 uppercase text-[9px] mb-1">é€£çµ¡å…ˆ</p><p>ï¼ˆã‚ãªãŸã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼‰</p></section>
                                    <section><p className="font-black text-slate-900 uppercase text-[9px] mb-1">ä¾¡æ ¼</p><p>300å††ï¼ˆç¨è¾¼ï¼‰</p></section>
                                    <section><p className="font-black text-slate-900 uppercase text-[9px] mb-1">è¿”å“</p><p>æ±ºæ¸ˆå¾Œã®è¿”å“ãƒ»è¿”é‡‘ã¯ä¸å¯</p></section>
                                </div>
                                <button onClick={() => setShowLegal(false)} className="w-full bg-slate-900 text-white py-4 rounded-2xl font-black mt-8 text-xs">é–‰ã˜ã‚‹</button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

